(this.webpackJsonpthyme=this.webpackJsonpthyme||[]).push([[0],{189:function(e,t,a){e.exports=a(522)},193:function(e,t,a){},221:function(e,t){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(6),r=a.n(s),c=(a(193),a(194),a(184)),i=a(25),l=a(26),u=a(28),p=a(27);a(58);var h=function(e){return 1==e.type?n.a.createElement("div",{style:{marginTop:e.marginTop,justifyContent:"flex-start"},className:"chat-item"},n.a.createElement("div",{className:"chat-item-content-container"},n.a.createElement("p",{style:{display:e.display},className:"chat-item-author"},e.author.toUpperCase()),n.a.createElement("div",{className:"chat-background"},n.a.createElement("p",{className:"chat-item-content"},e.content)))):n.a.createElement("div",{style:{marginTop:e.marginTop,justifyContent:"flex-end"},className:"chat-item"},n.a.createElement("div",{style:{justifyContent:"flex-end"},className:"chat-item-content-container"},n.a.createElement("p",{style:{display:e.display,textAlign:"right"},className:"chat-item-author"},e.author.toUpperCase()),n.a.createElement("div",{style:{backgroundColor:"rgba(28, 55, 91, 0.8)",borderRadius:"15px 0px 15px 15px"},className:"chat-background"},n.a.createElement("p",{style:{color:"white",textAlign:"right"},className:"chat-item-content"},e.content))))},m=a(44),d=a.n(m),g=a(12),y=a.n(g),f=a(177),v=a.n(f),C=(a(224),v.a.initializeApp({apiKey:"AIzaSyBNb-YQUa3Zxme22MioYmfpTYYfAXQBRYY",authDomain:"thyme-bf149.firebaseapp.com",databaseURL:"https://thyme-bf149.firebaseio.com",projectId:"thyme-bf149",storageBucket:"thyme-bf149.appspot.com",messagingSenderId:"176639028068",appId:"1:176639028068:web:cc31cf132c1305ff8ea871"}).firestore()),E=a(178),b="https://ec2-52-91-127-119.compute-1.amazonaws.com:8000/",k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).messageList=[],o.state={list:[],prevAuthor:"undefined",course:o.props.course,channel:o.props.channel},o}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.course==this.props.course)return!1;this.setState({list:[],prevAuthor:"undefined"}),this.messageList=[],C.collection("courses").where("courseid","==",this.props.course).get().then((function(e){e.forEach((function(e){C.collection("courses").doc(e.id).collection("channels").where("channelid","==",t.props.channel).get().then((function(a){a.forEach((function(a){console.log(a.data()),C.collection("courses").doc(e.id).collection("channels").doc(a.id).collection("messages").get().then((function(e){e.forEach((function(e){t.state.prevAuthor==e.data().author?t.props.author==e.data().author?t.messageList.push(n.a.createElement(h,{type:2,marginTop:"5px",display:"none",key:y()(),author:e.data().author,content:e.data().text})):t.messageList.push(n.a.createElement(h,{type:1,marginTop:"5px",display:"none",key:y()(),author:e.data().author,content:e.data().text})):t.props.author==e.data().author?t.messageList.push(n.a.createElement(h,{type:2,marginTop:"7.5px",display:"block",key:y()(),author:e.data().author,content:e.data().text})):t.messageList.push(n.a.createElement(h,{type:1,marginTop:"7.5px",display:"block",key:y()(),author:e.data().author,content:e.data().text})),t.setState({list:t.messageList,prevAuthor:e.data().author})}))}))}))}))}))})),d()(b).on("chat message",(function(e){t.state.prevAuthor==e.author?t.props.author==e.author?t.messageList.push(n.a.createElement(h,{type:2,marginTop:"5px",display:"none",key:y()(),author:e.author,content:e.message})):t.messageList.push(n.a.createElement(h,{type:1,marginTop:"5px",display:"none",key:y()(),author:e.author,content:e.message})):t.props.author==e.author?t.messageList.push(n.a.createElement(h,{type:2,marginTop:"7.5px",display:"block",key:y()(),author:e.author,content:e.message})):t.messageList.push(n.a.createElement(h,{type:1,marginTop:"7.5px",display:"block",key:y()(),author:e.author,content:e.message})),t.setState({list:t.messageList,prevAuthor:e.author})}))}},{key:"componentDidMount",value:function(){var e=this;C.collection("courses").where("courseid","==",this.props.course).get().then((function(t){t.forEach((function(t){C.collection("courses").doc(t.id).collection("channels").where("channelid","==",e.props.channel).get().then((function(a){a.forEach((function(a){C.collection("courses").doc(t.id).collection("channels").doc(a.id).collection("messages").get().then((function(t){t.forEach((function(t){e.state.prevAuthor==t.data().author?e.props.author==t.data().author?e.messageList.push(n.a.createElement(h,{type:2,marginTop:"5px",display:"none",key:y()(),author:t.data().author,content:t.data().text})):e.messageList.push(n.a.createElement(h,{type:1,marginTop:"5px",display:"none",key:y()(),author:t.data().author,content:t.data().text})):e.props.author==t.data().author?e.messageList.push(n.a.createElement(h,{type:2,marginTop:"7.5px",display:"block",key:y()(),author:t.data().author,content:t.data().text})):e.messageList.push(n.a.createElement(h,{type:1,marginTop:"7.5px",display:"block",key:y()(),author:t.data().author,content:t.data().text})),e.setState({list:e.messageList,prevAuthor:t.data().author})}))}))}))}))}))})),d()(b).on("chat message",(function(t){e.state.prevAuthor==t.author?e.props.author==t.author?e.messageList.push(n.a.createElement(h,{type:2,marginTop:"5px",display:"none",key:y()(),author:t.author,content:t.message})):e.messageList.push(n.a.createElement(h,{type:1,marginTop:"5px",display:"none",key:y()(),author:t.author,content:t.message})):e.props.author==t.author?e.messageList.push(n.a.createElement(h,{type:2,marginTop:"7.5px",display:"block",key:y()(),author:t.author,content:t.message})):e.messageList.push(n.a.createElement(h,{type:1,marginTop:"7.5px",display:"block",key:y()(),author:t.author,content:t.message})),e.setState({list:e.messageList,prevAuthor:t.author})}))}},{key:"render",value:function(){return n.a.createElement("div",{id:"chat-body"},n.a.createElement(E.Scrollbars,null,n.a.createElement("div",{style:{position:"relative",marginRight:"15px"}},this.state.list)))}}]),a}(n.a.Component),x=a(179),L=a.n(x),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).handleChange=function(e){o.setState({text:e.target.value})},o.handleClick=function(){if(""==o.state.text)return!1;var e=o.state.text,t=o.props.author;C.collection("courses").where("courseid","==",o.props.course).get().then((function(a){a.forEach((function(a){console.log(a.data()),C.collection("courses").doc(a.id).collection("channels").where("channelid","==",o.props.channelList[o.props.channelChoice]).get().then((function(o){o.forEach((function(o){console.log(o.id);var n=o.data().nummessages;C.collection("courses").doc(a.id).collection("channels").doc(o.id).collection("messages").doc(n+"").set({author:t,text:e}),C.collection("courses").doc(a.id).collection("channels").doc(o.id).update({nummessages:n+1})}))}))}))})),o.setState({text:""}),o.socket.emit("sendMessage",e,t)},o.handleKeyPress=function(e){"Enter"===e.key&&o.handleClick()},o.socket=void 0,o.state={text:""},o}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.socket=d()("https://ec2-52-91-127-119.compute-1.amazonaws.com:8000/")}},{key:"render",value:function(){return n.a.createElement("div",{id:"chat-input-container"},n.a.createElement("input",{onKeyPress:this.handleKeyPress,autoComplete:"off",placeholder:"Type your message...",value:this.state.text,onChange:this.handleChange,id:"chat-input"}),n.a.createElement("button",{onClick:this.handleClick,id:"chat-send"},n.a.createElement(L.a,{id:"send-icon"})))}}]),a}(n.a.Component),j=a(552),I=a(554),O=a(555),S=d()("https://ec2-52-91-127-119.compute-1.amazonaws.com:8000/"),A=Object(O.a)(j.a)({height:"35px",backgroundColor:"#1C375B",fontSize:"12px",padding:0,paddingLeft:"10px",color:"#ffffff",fontFamily:"Roboto",marginRight:"15px",borderRadius:"10px"}),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).handleSelect=function(e){o.setState({selectedOption:e.target.value},(function(){o.props.click(o.state.selectedOption)}))},o.state={clientCount:0,selectedOption:{value:0,type:0}},o}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return S.on("num clients",(function(t){e.setState({clientCount:t})})),n.a.createElement("div",{className:"course-info-container"},n.a.createElement("div",{className:"course-writeup"},n.a.createElement("h1",{className:"course-title"},"Test"),n.a.createElement("p",{className:"people-count"},n.a.createElement("span",null,"69 Members")," \u2022 ",n.a.createElement("span",null,this.state.clientCount/3," Online"))),n.a.createElement(A,{value:this.state.selectedOption,onChange:function(t){return e.handleSelect(t)},disableUnderline:!0},n.a.createElement(I.a,{value:{value:0,type:0}},"# General"),n.a.createElement(I.a,{value:{value:1,type:0}},"# Study Help")))}}]),a}(n.a.Component),R=(a(247),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).getCourseSelect=function(e){o.setState({selected:e.value,currentRoomType:e.type})},o.state={courseid:o.props.currentCourseID,authorInstance:o.props.author,channelList:o.props.allRooms,selected:0,currentRoomType:0,body:n.a.createElement(k,{course:o.props.currentCourseID,channel:o.props.allRooms[0].roomId,author:o.props.author}),input:n.a.createElement(T,{course:o.props.currentCourseID,channelChoice:0,channelList:o.props.allRooms,author:o.props.author}),idContainer:"chat-container"},o}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.currentCourseID==this.props.currentCourseID)return!1;this.setState({courseid:this.props.currentCourseID,authorInstance:this.props.author,channelList:this.props.allRooms},(function(){var e=t.state,a=e.authorInstance,o=e.channelList;0===t.state.currentRoomType?t.setState({body:n.a.createElement(k,{course:t.state.courseid,channel:o[t.state.selected].roomId,author:a}),input:n.a.createElement(T,{course:t.state.courseid,channelChoice:t.state.selected,channelList:o,author:a}),idContainer:"chat-container"}):1===t.state.currentRoomType||2==t.state.currentRoomType&&t.setState({idContainer:"chat-container"})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:this.state.idContainer},n.a.createElement(N,{click:function(t){return e.getCourseSelect(t)}}),this.state.body,this.state.input)}}]),a}(n.a.Component));a(519),a(520);var D=function(e){var t="notSelected";return e.selected&&(t="selected"),n.a.createElement("div",{className:t+" constant"},n.a.createElement("div",{className:"sidebarbuttons",onClick:e.onClick,style:{background:"#"+e.backgroundColor}}))};var w=function(e){console.log(e);var t=e.allCourses.map((function(t,a){return n.a.createElement(D,{key:t.id,selected:t.selected,onClick:function(){e.changeCurrentCourseID(t.id,a)},imageSrc:t.imageLink,backgroundColor:t.backgroundColor})}));return n.a.createElement("div",{className:"sidebar"},n.a.createElement("div",{id:"fillerButtonsSidebar"}),t)},M=(a(521),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).changeCurrentCourseID=function(e,t){for(var a=Object(c.a)(o.state.allCoursesList),n=0;n<a.length;n++)if(a[n].id===o.state.currentCourseID){a[n].selected=!1;break}a[t].selected=!0,o.setState({currentCourseID:e,allCoursesList:a})},o.state={author:o.props.author,allCoursesList:o.props.allCoursesList,currentCourseID:o.props.allCoursesList[0].id,allRooms:o.props.allRooms},o}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(R,{allRooms:this.state.allRooms,currentCourseID:this.state.currentCourseID,author:this.props.author}),n.a.createElement(w,{allCourses:this.state.allCoursesList,author:this.state.author,changeCurrentCourseID:this.changeCurrentCourseID}))}}]),a}(n.a.Component)),z=[],U=[],B="";!function(){B="Bob Ross",z=[{courseTitle:"Anatomy",selected:!0,id:"MTQ3ODcyMzU4NTFa",imageLink:"https://lh6.googleusercontent.com/-7Ww0toY0P1s/VN0op12wi-I/AAAAAAAAAVs/GUcBQ4yvdPw/w984-h209-no/164_windows_ltblue.jpg"},{courseTitle:"History",selected:!1,id:"MTE4NzM2NTQ5MzA1",imageLink:"https://gstatic.com/classroom/themes/img_read.jpg"},{courseTitle:"Calculus",selected:!1,id:"MTE4NzMyMzg3NjYy",imageLink:"https://gstatic.com/classroom/themes/img_reachout.jpg"}];for(var e=0;e<z.length;e++){var t=Math.floor(16777215*Math.random()).toString(16);z[e].backgroundColor=t}U=[{roomId:0,roomType:0},{roomId:1,roomType:0}]}(),r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,{allCoursesList:z,author:B,allRooms:U})),document.getElementById("root"))},58:function(e,t,a){}},[[189,1,2]]]);
//# sourceMappingURL=main.850f19e9.chunk.js.map